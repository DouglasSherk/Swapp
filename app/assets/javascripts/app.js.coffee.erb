<% environment.context_class.instance_eval { include AngularRoutingHelper } %>

window.App = angular.module('Swapp', [])

App.config ['$routeProvider', ($routeProvider) ->
  <% getAllAngularRoutes().each do |route| %>
  $routeProvider.when '<%= angularRouteAppPath(route).sub '#', '' %>',
    templateUrl: '<%= angularRouteFilePath(route) %>',
    reloadOnSearch: false,
  <% end %>
  $routeProvider.otherwise
    templateUrl: '<%= angularRouteFilePath(templates_path) %>',
    reloadOnSearch: false,
]

App.run ['$rootScope',\
         ($rootScope) ->
]
